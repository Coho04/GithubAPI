<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GHUser.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">io.github.coho04:githubapi</a> &gt; <a href="index.source.html" class="el_package">io.github.coho04.githubapi.entities</a> &gt; <span class="el_source">GHUser.java</span></div><h1>GHUser.java</h1><pre class="source lang-java linenums">package io.github.coho04.githubapi.entities;

import io.github.coho04.githubapi.Github;
import io.github.coho04.githubapi.bases.EntityBase;
import io.github.coho04.githubapi.entities.repositories.GHRepository;
import io.github.coho04.githubapi.utilities.HttpRequestHelper;
import org.json.JSONObject;

import java.util.List;

/**
 * Represents a GitHub user.
 * This class provides methods and properties to access information about a user on GitHub.
 */
<span class="fc" id="L15">public class GHUser extends EntityBase {</span>

    private final String gistsUrl;
    private final String gravatarId;
    private final boolean siteAdmin;
    private final String starredUrl;
    private final int contributions;
    private final String followingUrl;
    private final String followersUrl;
    private final String subscriptionsUrl;
    private final String receivedEventsUrl;
    private final String organizationsUrl;
    protected final Github github;

    /**
     * Constructs a new GHUser instance with the provided JSON object.
     *
     * @param jsonObject the JSON object containing the user data
     */
    public GHUser(Github github, JSONObject jsonObject) {
<span class="fc" id="L35">        super(jsonObject);</span>
<span class="fc" id="L36">        this.github = github;</span>
<span class="fc" id="L37">        this.contributions = getIntOrNull(jsonObject, &quot;contributions&quot;);</span>
<span class="fc" id="L38">        this.gistsUrl = getStringOrNull(jsonObject, &quot;gists_url&quot;);</span>
<span class="fc" id="L39">        this.siteAdmin = getBooleanOrNull(jsonObject, &quot;site_admin&quot;);</span>
<span class="fc" id="L40">        this.gravatarId = getStringOrNull(jsonObject, &quot;gravatar_id&quot;);</span>
<span class="fc" id="L41">        this.starredUrl = getStringOrNull(jsonObject, &quot;starred_url&quot;);</span>
<span class="fc" id="L42">        this.followersUrl = getStringOrNull(jsonObject, &quot;followers_url&quot;);</span>
<span class="fc" id="L43">        this.followingUrl = getStringOrNull(jsonObject, &quot;following_url&quot;);</span>
<span class="fc" id="L44">        this.subscriptionsUrl = getStringOrNull(jsonObject, &quot;subscriptions_url&quot;);</span>
<span class="fc" id="L45">        this.receivedEventsUrl = getStringOrNull(jsonObject, &quot;received_events_url&quot;);</span>
<span class="fc" id="L46">        this.organizationsUrl = getStringOrNull(jsonObject, &quot;organizations_url&quot;);</span>
<span class="fc" id="L47">    }</span>

    /**
     * Converts this user instance to a JSONObject.
     *
     * @return a JSONObject representation of this user
     */
    @Override
    public JSONObject toJSONObject() {
<span class="fc" id="L56">        return super.toJSONObject()</span>
<span class="fc" id="L57">                .put(&quot;gists_url&quot;, gistsUrl)</span>
<span class="fc" id="L58">                .put(&quot;gravatar_id&quot;, gravatarId)</span>
<span class="fc" id="L59">                .put(&quot;site_admin&quot;, siteAdmin)</span>
<span class="fc" id="L60">                .put(&quot;starred_url&quot;, starredUrl)</span>
<span class="fc" id="L61">                .put(&quot;contributions&quot;, contributions)</span>
<span class="fc" id="L62">                .put(&quot;following_url&quot;, followingUrl)</span>
<span class="fc" id="L63">                .put(&quot;followers_url&quot;, followersUrl)</span>
<span class="fc" id="L64">                .put(&quot;subscriptions_url&quot;, subscriptionsUrl)</span>
<span class="fc" id="L65">                .put(&quot;received_events_url&quot;, receivedEventsUrl)</span>
<span class="fc" id="L66">                .put(&quot;organizations_url&quot;, organizationsUrl);</span>
    }

    /**
     * Fetches a GitHub user by their username.
     *
     * @param github the GitHub instance
     * @param name   the username of the user to fetch
     * @return a GHUser instance representing the fetched user
     */
    public static GHUser getUser(Github github, String name) {
<span class="fc" id="L77">        String response = HttpRequestHelper.sendGetRequest(getBaseUrl() + &quot;/users/&quot; + name, github.getToken());</span>
<span class="pc bpc" id="L78" title="1 of 2 branches missed.">        assert response != null;</span>
<span class="fc" id="L79">        JSONObject json = new JSONObject(response);</span>
<span class="fc" id="L80">        return new GHUser(github, json);</span>
    }

    /**
     * Returns the URL for fetching the followers of this user.
     *
     * @return the followers URL
     */
    public String getFollowersUrl() {
<span class="fc" id="L89">        return followersUrl;</span>
    }

    /**
     * Returns the URL for fetching the users followed by this user.
     *
     * @return the following URL
     */
    public String getFollowingUrl() {
<span class="fc" id="L98">        return followingUrl;</span>
    }

    /**
     * Returns the URL for fetching the gists of this user.
     *
     * @return the gists URL
     */
    public String getGistsUrl() {
<span class="fc" id="L107">        return gistsUrl;</span>
    }

    /**
     * Returns the URL for fetching the events received by this user.
     *
     * @return the received events URL
     */
    public String getReceivedEventsUrl() {
<span class="fc" id="L116">        return receivedEventsUrl;</span>
    }

    /**
     * Returns the URL for fetching the repositories starred by this user.
     *
     * @return the starred URL
     */
    public String getStarredUrl() {
<span class="fc" id="L125">        return starredUrl;</span>
    }

    /**
     * Returns the URL for fetching the subscriptions of this user.
     *
     * @return the subscriptions URL
     */
    public String getSubscriptionsUrl() {
<span class="fc" id="L134">        return subscriptionsUrl;</span>
    }

    /**
     * Returns the gravatar ID of this user.
     *
     * @return the gravatar ID
     */
    public String getGravatarId() {
<span class="fc" id="L143">        return gravatarId;</span>
    }

    /**
     * Returns the URL for fetching the organizations of this user.
     *
     * @return the organizations URL
     */
    public String getOrganizationsUrl() {
<span class="fc" id="L152">        return organizationsUrl;</span>
    }

    /**
     * Returns the number of contributions made by this user.
     *
     * @return the number of contributions
     */
    public int getContributions() {
<span class="fc" id="L161">        return contributions;</span>
    }

    /**
     * Returns whether this user is a site administrator.
     *
     * @return true if the user is a site administrator, false otherwise
     */
    public boolean isSiteAdmin() {
<span class="fc" id="L170">        return siteAdmin;</span>
    }

    /**
     * Finds and returns a repository by its name for the current user.
     *
     * @param name the name of the repository to find
     * @return the GHRepository instance representing the found repository
     */
    public GHRepository findRepositoryByName(String name) {
<span class="fc" id="L180">        return GHRepository.getRepository(github, this.getLogin(), name);</span>
    }

    /**
     * Fetches and returns a list of users who are followers of the current user.
     *
     * @return a list of GHUser instances representing the followers of the current user
     */
    public List&lt;GHUser&gt; getFollowers() {
<span class="fc" id="L189">        return fetchPaginatedData(getUrl(), &quot;/followers&quot;, jsonObject -&gt; new GHUser(github, jsonObject), github.getToken());</span>
    }

    /**
     * Fetches and returns a list of users who the current user is following.
     *
     * @return a list of GHUser instances representing the users the current user is following
     */
    public List&lt;GHUser&gt; getFollowing() {
<span class="fc" id="L198">        return fetchPaginatedData(getUrl(), &quot;/following&quot;, jsonObject -&gt; new GHUser(github, jsonObject), github.getToken());</span>
    }

    /**
     * Fetches and returns a list of public keys associated with the current user.
     *
     * @return a list of GHPublicKey instances representing the public keys of the current user
     */
    public List&lt;GHPublicKey&gt; getPublicKeys() {
<span class="fc" id="L207">        return fetchPaginatedData(getUrl(), &quot;/keys&quot;, GHPublicKey::new, github.getToken());</span>
    }

    /**
     * Fetches and returns a list of repositories owned by the current user.
     *
     * @return a list of GHRepository instances representing the repositories owned by the current user
     */
    public List&lt;GHRepository&gt; listRepositories() {
<span class="fc" id="L216">        return fetchPaginatedData(getUrl(), &quot;/repos&quot;, jsonObject -&gt; new GHRepository(jsonObject, github), github.getToken());</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>